!function(r){var e={series:{bars:{order:null}}};jQuery.plot.plugins.push({init:function(r){function e(r){return null!=r.bars&&r.bars.show&&null!=r.bars.order}function a(r){var e=S?r.getPlaceholder().innerHeight():r.getPlaceholder().innerWidth(),a=S?n(r.getData(),1):n(r.getData(),0),t=a[1]-a[0];I=t/e}function n(r,e){for(var a=new Array,n=0;n<r.length;n++)a[0]=r[n].data[0][e],a[1]=r[n].data[r[n].data.length-1][e];return"string"==typeof a[0]&&(a[0]=0,a[1]=r[0].data.length-1),a}function t(r){g=s(r.getData()),p=g.length}function s(r){for(var e=new Array,a=0;a<r.length;a++)null!=r[a].bars.order&&r[a].bars.show&&e.push(r[a]);return i(e)}function i(r){var e=r.length;do{for(t=0;t<e-1;t++)if(r[t].bars.order>r[t+1].bars.order){var a=r[t];r[t]=r[t+1],r[t+1]=a}else if(r[t].bars.order==r[t+1].bars.order){var n;r[t].sameSeriesArrayIndex?void 0!==r[t+1].sameSeriesArrayIndex&&(n=r[t].sameSeriesArrayIndex,r[t+1].sameSeriesArrayIndex=n,x[n].push(r[t+1]),x[n].sort(o),r[t]=x[n][0],u(r,t+1)):r[t+1].sameSeriesArrayIndex?void 0!==r[t].sameSeriesArrayIndex&&(n=r[t+1].sameSeriesArrayIndex,r[t].sameSeriesArrayIndex=n,x[n].push(r[t]),x[n].sort(o),r[t]=x[n][0],u(r,t+1)):(n=x.length,x[n]=new Array,r[t].sameSeriesArrayIndex=n,r[t+1].sameSeriesArrayIndex=n,x[n].push(r[t]),x[n].push(r[t+1]),x[n].sort(o),r[t]=x[n][0],u(r,t+1)),t--,e--}e-=1}while(e>1);for(var t=0;t<r.length;t++)r[t].sameSeriesArrayIndex&&(m[r[t].sameSeriesArrayIndex]=t);return r}function o(r,e){var a=r.bars.barWidth?r.bars.barWidth:1,n=e.bars.barWidth?e.bars.barWidth:1;return a<n?-1:a>n?1:0}function u(r,e,a){var n=r.slice((a||e)+1||r.length);return r.length=e<0?r.length+e:e,r.push.apply(r,n),r}function h(r){v="number"==typeof r.bars.lineWidth?r.bars.lineWidth:2,A=v*I}function l(r){r.bars.horizontal&&(S=!0)}function d(r){var e=0;if(r.sameSeriesArrayIndex)e=m[r.sameSeriesArrayIndex];else for(var a=0;a<g.length;++a)if(r==g[a]){e=a;break}return e+1}function f(){var r=0;return p%2!=0&&(r=g[Math.floor(p/2)].bars.barWidth/2),r}function b(r){return r<=Math.ceil(p/2)}function c(r,e,a){for(var n=0,t=e;t<=a;t++)n+=r[t].bars.barWidth+2*A;return n}function y(r,e,a){for(var n=r.pointsize,t=r.points,s=0,i=S?1:0;i<t.length;i+=n)t[i]+=a,e.data[s][3]=t[i],s++;return t}var g,p,v,A,m=new Array,x=new Array,I=1,S=!1;r.hooks.processDatapoints.push(function(r,n,s){var i=null;if(e(n))if(l(n),a(r),t(r),h(n),p>=2){var o=d(n),u=f();i=y(s,n,b(o)?-1*c(g,o-1,Math.floor(p/2)-1)-u:c(g,Math.ceil(p/2),o-2)+u+2*A),s.points=i}else 1==p&&(i=y(s,n,u=-1*f()),s.points=i);return i})},options:e,name:"orderBars",version:"0.2"})}();